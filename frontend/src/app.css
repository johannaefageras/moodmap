@import 'tailwindcss';
@plugin 'daisyui' {
	themes:
		light --default,
		dark --prefersDark;
}
@import 'flatpickr/dist/flatpickr.min.css';
@import '../static/icons.css';

/* ============================================
   CUSTOM THEME DEFINITIONS
   Light: "Soft Dawn" - warm, creamy, calming
   Dark: "Evening Calm" - deep, warm, cozy

   Improved contrast version
   ============================================ */

[data-theme='light'] {
	/* Primary - Sky blue (weather icon moon blues) */
	--color-primary: #72b9d5;
	--color-primary-content: #e6effc;

	/* Secondary - Sky blue */
	--color-secondary: #72b9d5;
	--color-secondary-content: #e6effc;

	/* Accent - Icy blue */
	--color-accent: #e6effc;
	--color-accent-content: #1a2633;

	/* Neutral - Cool slate */
	--color-neutral: #848b98;
	--color-neutral-content: #f7fbff;

	/* Base colors - Cool, crisp palette */
	--color-base-100: #f9fcff;
	--color-base-200: #f2f7fd;
	--color-base-300: #e1e9f5;
	--color-base-content: #1a2633;

	/* Status colors */
	--color-info: #72b9d5;
	--color-info-content: #e6effc;
	--color-success: #72b9d5;
	--color-success-content: #e6effc;
	--color-warning: #848b98;
	--color-warning-content: #f7fbff;
	--color-error: #2f5f9c;
	--color-error-content: #e6effc;
}

[data-theme='dark'] {
	/* Primary - Sky blue for dark mode */
	--color-primary: #72b9d5;
	--color-primary-content: #0b1422;

	/* Secondary - Sky blue */
	--color-secondary: #72b9d5;
	--color-secondary-content: #0b1422;

	/* Accent - Icy blue */
	--color-accent: #e6effc;
	--color-accent-content: #0b1422;

	/* Neutral - Cool slate */
	--color-neutral: #848b98;
	--color-neutral-content: #0b1422;

	/* Base colors - Deep slate (gray with a blue tone) */
	--color-base-100: #0f141c;
	--color-base-200: #171d26;
	--color-base-300: #1f2732;
	--color-base-content: #e6effc;

	/* Status colors */
	--color-info: #72b9d5;
	--color-info-content: #0b1422;
	--color-success: #5ea5c7;
	--color-success-content: #0b1422;
	--color-warning: #848b98;
	--color-warning-content: #0b1422;
	--color-error: #3b6fc0;
	--color-error-content: #e6effc;
}

@theme {
	/* Font families */
	--font-sans: 'TT Norms Pro', system-ui, sans-serif;
	--font-display: 'Grenette', system-ui, serif;

	/* Mood colors - gradient from low to high */
	--color-mood-1: #b06a6a;
	--color-mood-2: #b07a6a;
	--color-mood-3: #b08a6a;
	--color-mood-4: #b09a6a;
	--color-mood-5: #a0a06a;
	--color-mood-6: #8aa06a;
	--color-mood-7: #6aa07a;
	--color-mood-8: #6aa08a;
	--color-mood-9: #6aa0a0;
	--color-mood-10: #6aadad;
}

/* Smooth theme transitions */
html {
	transition:
		background-color 0.3s ease,
		color 0.3s ease;
}

html.theme-changing,
html.theme-changing * {
	transition: none !important;
}

/* Ensure body has the correct background */
body {
	background-color: var(--color-base-100);
	color: var(--color-base-content);
}

/* ============================================
   ICON STYLING UTILITIES
   ============================================ */

/* Icon box - wrapper with background */
.icon-box {
	display: flex;
	align-items: center;
	justify-content: center;
	border-radius: 0.5rem;
	background-color: var(--color-base-200);
	transition: all 150ms ease;
}

[data-theme='light'] .icon-box {
	background-color: color-mix(in srgb, var(--color-base-200) 92%, var(--color-primary));
}

.icon-box-bg {
	background-color: var(--color-base-200);
}

[data-theme='light'] .icon-box-bg {
	background-color: color-mix(in srgb, var(--color-base-200) 92%, var(--color-primary));
}

.icon-box-sm {
	width: 2rem;
	height: 2rem;
}

.icon-box-md {
	width: 2.5rem;
	height: 2.5rem;
}
.icon-box-md > i {
	font-size: 1.45rem;
}

.icon-box-lg {
	width: 2.75rem;
	height: 2.75rem;
}
.icon-box-lg > i {
	font-size: 1.45rem;
}

/* Icon box hover effect */
.icon-box:hover,
.icon-box-hover:hover .icon-box {
	background-color: var(--color-base-300);
}

[data-theme='light'] .icon-box:hover,
[data-theme='light'] .icon-box-hover:hover .icon-box {
	background-color: color-mix(in srgb, var(--color-base-300) 90%, var(--color-primary));
}

.weather-icon-box {
	border-radius: 1rem;
}

/* Icon wrapper for hover weight transition */
.icon-hover {
	transition: font-weight 120ms ease;
	font-weight: 400;
}

.icon-hover:hover,
*:hover > .icon-hover,
.group:hover .icon-hover {
	font-weight: 700;
}

/* Stat item - icon + text layout */
.stat-item {
	display: flex;
	align-items: center;
	gap: 0.75rem;
}

.stat-item:hover .icon-box {
	background-color: var(--color-base-300);
}

.stat-item:hover .icon-hover {
	font-weight: 700;
}

/* Section header styling - using Grenette display font */
.section-header {
	font-family: var(--font-display);
	font-size: 0.75rem;
	font-weight: 600;
	letter-spacing: 0.1em;
	text-transform: uppercase;
	line-height: 1.3;
	color: color-mix(in srgb, var(--color-base-content) 55%, transparent);
	margin-bottom: 0.75rem;
	padding-bottom: 0.5rem;
}

/* Icon colors by context */
.icon-muted {
	color: color-mix(in srgb, var(--color-base-content) 55%, transparent);
}

[data-theme='light'] .icon-muted {
	color: color-mix(in srgb, var(--color-base-content) 70%, transparent);
}

[data-theme='dark'] .icon-muted {
	color: color-mix(in srgb, var(--color-base-content) 70%, transparent);
}

/* Icon hover weight for all icons */
.micon,
[class^='mi-'],
[class*=' mi-'] {
	transition: font-weight 120ms ease;
}
.micon:hover,
[class^='mi-']:hover,
[class*=' mi-']:hover {
	font-weight: 700;
}
*:has(> .micon + *:hover) > .micon,
*:has(> [class^='mi-'] + *:hover) > [class^='mi-'],
*:has(> [class*=' mi-'] + *:hover) > [class*=' mi-'] {
	font-weight: 700;
}

.icon-subtle {
	color: color-mix(in srgb, var(--color-base-content) 45%, transparent);
}

[data-theme='light'] .icon-subtle {
	color: color-mix(in srgb, var(--color-base-content) 60%, transparent);
}

[data-theme='dark'] .icon-subtle {
	color: color-mix(in srgb, var(--color-base-content) 60%, transparent);
}

.icon-primary {
	color: var(--color-primary);
}

.sidebar-card-heading {
	width: 100%;
	border-bottom: 1px solid color-mix(in srgb, var(--color-base-300) 70%, transparent);
	padding-bottom: 0.75rem;
	margin-bottom: 1rem;
}

.icon-success {
	color: var(--color-success);
}

.icon-warning {
	color: var(--color-warning);
}

.icon-error {
	color: var(--color-error);
}

html,
body {
	height: 100%;
}

/* ============================================
   TYPOGRAPHY SYSTEM
   Body: TT Norms Pro
   Display: Grenette
   ============================================ */

body {
	font-family: var(--font-sans);
	font-weight: 400;
	font-size: 1.0625rem;
	line-height: 1.6;
	letter-spacing: 0.002em;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Headings - Grenette display font */
h1,
h2,
h3,
h4,
h5,
h6 {
	font-family: var(--font-display);
}

h1 {
	font-size: 2rem;
	font-weight: 700;
	line-height: 1.1;
	letter-spacing: -0.015em;
}

h2 {
	font-size: 1.6rem;
	font-weight: 600;
	line-height: 1.14;
	letter-spacing: -0.012em;
}

h3 {
	font-size: 1.25rem;
	font-weight: 600;
	line-height: 1.2;
	letter-spacing: -0.008em;
}

h4 {
	font-size: 1.1rem;
	font-weight: 400;
	line-height: 1.24;
	letter-spacing: -0.004em;
}

h5 {
	font-size: 1rem;
	font-weight: 400;
	line-height: 1.3;
	letter-spacing: -0.002em;
}

h6 {
	font-size: 0.875rem;
	font-weight: 400;
	line-height: 1.35;
	letter-spacing: 0em;
}

/* Small text - TT Norms Pro */
small,
.text-sm {
	font-size: 0.9375rem;
	line-height: 1.5;
	font-weight: 400;
}

.text-xs {
	font-size: 0.8125rem;
	line-height: 1.45;
	font-weight: 400;
}

/* Bold text - using variable weight */
strong,
b {
	font-weight: 700;
}

/* Semi-bold */
.font-semibold {
	font-weight: 600;
}

.font-medium {
	font-weight: 500;
}

/* Quotes - lighter weight italic */
blockquote,
.quote {
	font-style: italic;
	font-weight: 400;
}

/* Buttons - slightly heavier for legibility */
button,
[class*='btn'] {
	font-family: var(--font-sans);
	font-weight: 500;
	letter-spacing: 0.006em;
}

/* Primary action buttons use display font */
.btn-primary,
button[type='submit'] {
	font-family: var(--font-sans);
	font-weight: 600;
}

/* Labels */
label {
	font-size: 0.875rem;
	font-weight: 500;
}

/* Links in body text */
a {
	font-weight: inherit;
}

/* Numeric values - tabular figures for alignment */
.tabular-nums {
	font-variant-numeric: tabular-nums;
}

/* Large display numbers (mood values, stats) */
.display-number {
	font-family: var(--font-display);
	font-weight: 600;
	letter-spacing: -0.012em;
}

/* ============================================
   FLATPICKR THEME (theme-aware)
   ============================================ */
.flatpickr-calendar {
	background: var(--color-base-100) !important;
	border: 1px solid var(--color-base-300) !important;
	box-shadow: 0 10px 25px color-mix(in srgb, var(--color-base-content) 10%, transparent) !important;
	border-radius: 0.75rem !important;
}

.flatpickr-calendar * {
	font-family: var(--font-sans) !important;
}

.flatpickr-months .flatpickr-month {
	background: transparent !important;
	color: var(--color-base-content) !important;
}

.flatpickr-current-month .flatpickr-monthDropdown-months {
	background: var(--color-base-100) !important;
	color: var(--color-base-content) !important;
	font-weight: 500 !important;
}

.flatpickr-current-month input.cur-year {
	color: var(--color-base-content) !important;
	font-weight: 500 !important;
}

.flatpickr-months .flatpickr-prev-month,
.flatpickr-months .flatpickr-next-month {
	color: var(--color-base-content) !important;
	fill: var(--color-base-content) !important;
}

.flatpickr-months .flatpickr-prev-month:hover,
.flatpickr-months .flatpickr-next-month:hover {
	color: var(--color-primary) !important;
}

.flatpickr-months .flatpickr-prev-month:hover svg,
.flatpickr-months .flatpickr-next-month:hover svg {
	fill: var(--color-primary) !important;
}

.flatpickr-weekday {
	color: color-mix(in srgb, var(--color-base-content) 60%, transparent) !important;
	font-weight: 600 !important;
	background: transparent !important;
	font-size: 0.75rem !important;
}

.flatpickr-weekwrapper .flatpickr-weekday {
	color: color-mix(in srgb, var(--color-base-content) 60%, transparent) !important;
}

.flatpickr-day {
	color: var(--color-base-content) !important;
	border-radius: 0.5rem !important;
	height: 36px !important;
	line-height: 36px !important;
	border: none !important;
	margin: 1px !important;
	font-weight: 400 !important;
}

/* Limit to 5 rows (35 days) in the datepicker */
.dayContainer .flatpickr-day:nth-child(n + 36) {
	display: none !important;
}

.flatpickr-day:hover {
	background: var(--color-base-200) !important;
}

.flatpickr-day.today {
	border: 1.5px solid var(--color-primary) !important;
	font-weight: 600 !important;
}

.flatpickr-day.selected,
.flatpickr-day.selected:hover {
	background: var(--color-primary) !important;
	color: var(--color-primary-content) !important;
	font-weight: 600 !important;
}

.flatpickr-day.prevMonthDay,
.flatpickr-day.nextMonthDay {
	color: color-mix(in srgb, var(--color-base-content) 35%, transparent) !important;
}

.flatpickr-day.disabled {
	color: color-mix(in srgb, var(--color-base-content) 25%, transparent) !important;
}

.flatpickr-time {
	background: var(--color-base-100) !important;
	border-top: 1px solid var(--color-base-300) !important;
}

.flatpickr-time input {
	color: var(--color-base-content) !important;
	font-weight: 400 !important;
}

.flatpickr-time .flatpickr-time-separator {
	color: var(--color-base-content) !important;
}

.flatpickr-time .flatpickr-am-pm {
	color: var(--color-base-content) !important;
	font-weight: 500 !important;
}

.numInputWrapper:hover {
	background: var(--color-base-200) !important;
}

.numInputWrapper span {
	border-color: var(--color-base-300) !important;
}

.numInputWrapper span:hover {
	background: var(--color-base-300) !important;
}

.numInputWrapper span.arrowUp:after {
	border-bottom-color: var(--color-base-content) !important;
}

.numInputWrapper span.arrowDown:after {
	border-top-color: var(--color-base-content) !important;
}

/* Ensure flatpickr works inside modals */
.flatpickr-calendar.static {
	position: absolute !important;
}

.flatpickr-calendar.static.open {
	z-index: 100 !important;
}

.flatpickr-wrapper {
	width: 100%;
}

.flatpickr-input {
	width: 100% !important;
}
